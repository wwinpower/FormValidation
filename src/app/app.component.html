<div class="container">
    <div class="row justify-content-center mg-auto">
        <div class="col-8">
            <form (ngSubmit)="submitForm(form)" #form="ngForm" class="mt-4">
                <p *ngIf="user.invalid && user.touched" class="alert alert-danger"> Данные пользователя введены
                    некорректно !!!</p>
                <div ngModelGroup="user" #user="ngModelGroup">
                    <div class="form-group">
                        <label>Email</label>
                        <input
                                type="text"
                                class="form-control"
                                ngModel name="email"
                                required
                                email=""
                                #email="ngModel"
                                [ngClass]="{'is-invalid': email.invalid && email.touched}"
                        >
                        <p *ngIf="email.invalid && email.touched" class="invalid-feedback">Введите корректный email</p>
                        <button type="button" class="btn btn-primary mt-2" (click)="addRandEmail()">Добавить Случайный
                            email
                        </button>
                    </div>
                    <div class="form-group">
                        <label>Пароль</label>
                        <input
                                type="password"
                                class="form-control"
                                ngModel
                                name="pass"
                                required
                                #pass="ngModel"
                                [ngClass]="{'is-invalid': pass.invalid && pass.touched}"
                        >
                        <p *ngIf="pass.invalid && email.touched" class="invalid-feedback">Пароль не должен быть
                            пустым</p>
                    </div>
                </div>
                <div class="form-group">
                    <label>Выберите страну</label>
                    <select
                            class="form-control"
                            [ngModel]="defaultCountry"
                            name="country"
                            required
                    >
                        <option value="ru">Россия</option>
                        <option value="by">Белоруссия</option>
                        <option value="ua">Украина</option>
                    </select>
                </div>
                <div class="radio" *ngFor="let ans of answers">
                    <label>
                        <input
                                type="radio"
                                [value]="ans.type"
                                [ngModel]="defaultAnswer"
                                name="answer"
                                required
                        > {{ans.text}}
                    </label>
                </div>
                <button
                        class="btn btn-success"
                        type="submit"
                        [disabled]="!form.valid"
                >Сохранить
                </button>

            </form>
            <br>
            <div *ngIf="isSubmited">
                <pre>
                    {{formData | json}}
                </pre>
            </div>
        </div>

    </div>
</div>